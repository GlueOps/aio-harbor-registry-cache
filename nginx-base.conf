# Modern TLS 1.3 only configuration - maximum security
ssl_certificate /etc/nginx/ssl/cert.pem;
ssl_certificate_key /etc/nginx/ssl/key.pem;

# TLS 1.3 only - most secure protocol
ssl_protocols TLSv1.3;

# TLS 1.3 cipher suites (these are the only secure ones)
ssl_ciphers TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256:TLS_AES_128_GCM_SHA256;

# Let the client choose (TLS 1.3 ciphers are all strong)
ssl_prefer_server_ciphers off;

# Modern security settings
ssl_session_tickets off;

# Security headers
add_header Strict-Transport-Security "max-age=63072000; includeSubDomains; preload" always;
add_header X-Content-Type-Options nosniff always;
add_header X-Frame-Options DENY always;
add_header X-XSS-Protection "1; mode=block" always;

# HTTP to HTTPS redirect server block (shared)
server {
    listen 80;
    server_name _;
    return 307 https://$host$request_uri;
}
